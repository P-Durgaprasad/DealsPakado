{"ast":null,"code":"import React,{useState,useEffect}from'react';import ImageGallery from'react-image-gallery';import'./Css/ItemCarousel.css';import useSWR from'swr';import{jsx as _jsx}from\"react/jsx-runtime\";function ItemCarousel(){const[data,setData]=useState([]);const[index,setIndex]=useState(0);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const{data:carouselData,error:fetchError}=useSWR(\"/api/carousel/showAll\",async url=>{try{const response=await fetch(url);if(!response.ok){throw new Error('Network response was not ok');}const jsonData=await response.json();if(Array.isArray(jsonData)){return jsonData;}return[];}catch(err){throw new Error('Failed to fetch data');}});useEffect(()=>{if(fetchError){setError(fetchError);setIsLoading(false);}else if(carouselData){setData(carouselData);setIsLoading(false);}},[fetchError,carouselData]);const handleChangeIndex=selectedIndex=>{setIndex(selectedIndex);};return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"p\",{children:\"Server Down, Please Try again !\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-deals\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-deals-div\",children:\"Currently, No Deals Are Available\"})}):/*#__PURE__*/_jsx(ImageGallery,{items:data.map(item=>({original:item.imageUrl,thumbnailLabel:item.title,renderItem:()=>/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(item.affiliateLink),target:\"_blank\",rel:\"noopener noreferrer\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"image-div\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-slider\",src:item.imageUrl,alt:item.title})})})})),currentIndex:index,onClick:currentIndex=>handleChangeIndex(currentIndex),slidesPerView:1,spaceBetween:10,autoPlay:true,disableKeyDown:true,autoplayTimeout:1000,loop:true})});}export default ItemCarousel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}