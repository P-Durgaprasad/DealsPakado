{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ImageGallery from'react-image-gallery';import'react-image-gallery/styles/css/image-gallery.css';import'./Css/ItemCarousel.css';import API from'../API_Config';import useSWR from'swr';import{jsx as _jsx}from\"react/jsx-runtime\";function ItemCarousel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useSWR=useSWR(\"\".concat(API,\"/api/carousel/showAll\"),/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API,\"/api/carousel/showAll\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:jsonData=_context.sent;if(!Array.isArray(jsonData)){_context.next=8;break;}return _context.abrupt(\"return\",jsonData);case 8:return _context.abrupt(\"return\",[]);case 9:case\"end\":return _context.stop();}},_callee);}))),carouselData=_useSWR.data,error=_useSWR.error;useEffect(function(){if(carouselData){setData(carouselData);setIsLoading(false);}else if(error){console.error('Error fetching data:',error);setData([]);}},[carouselData,error]);var handleChangeIndex=function handleChangeIndex(selectedIndex){setIndex(selectedIndex);};return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-deals\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-deals-div\",children:\"Currently No Deals Are available\"})}):/*#__PURE__*/_jsx(ImageGallery,{items:carouselData.map(function(item){return{original:item.imageUrl,thumbnailLabel:item.title,renderItem:function renderItem(){return/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(item.affiliateLink),target:\"_blank\",rel:\"noopener noreferrer\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"image-div\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-slider\",src:item.imageUrl,alt:item.title})})});}};}),currentIndex:index,onClick:function onClick(currentIndex){return handleChangeIndex(currentIndex);},slidesPerView:1,spaceBetween:10,autoPlay:true,disableKeyDown:true,autoplayTimeout:5000,loop:true})});}export default ItemCarousel;","map":{"version":3,"names":["React","useState","useEffect","ImageGallery","API","useSWR","jsx","_jsx","ItemCarousel","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","index","setIndex","_useState5","_useState6","isLoading","setIsLoading","_useSWR","concat","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsonData","wrap","_callee$","_context","prev","next","fetch","sent","json","Array","isArray","abrupt","stop","carouselData","error","console","handleChangeIndex","selectedIndex","className","children","length","items","map","item","original","imageUrl","thumbnailLabel","title","renderItem","href","affiliateLink","target","rel","style","textDecoration","src","alt","currentIndex","onClick","slidesPerView","spaceBetween","autoPlay","disableKeyDown","autoplayTimeout","loop"],"sources":["C:/Users/NorthAlley/React_Projects/dealspakado/src/Components/HomeComponent/ItemCarousel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './Css/ItemCarousel.css';\r\nimport API from '../API_Config';\r\nimport useSWR from 'swr';\r\n\r\nfunction ItemCarousel() {\r\n  const [data, setData] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const { data: carouselData, error } = useSWR(`${API}/api/carousel/showAll`, async () => {\r\n    const response = await fetch(`${API}/api/carousel/showAll`);\r\n    const jsonData = await response.json();\r\n    if (Array.isArray(jsonData)) {\r\n      return jsonData;\r\n    }\r\n    return [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (carouselData) {\r\n      setData(carouselData);\r\n      setIsLoading(false);\r\n    } else if (error) {\r\n      console.error('Error fetching data:', error);\r\n      setData([]);\r\n    }\r\n  }, [carouselData, error]);\r\n\r\n  const handleChangeIndex = (selectedIndex) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"carousel-container\">\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : data.length === 0 ? (\r\n        <div className='empty-deals'>\r\n          <p className=\"no-deals-div\">Currently No Deals Are available</p>\r\n        </div>\r\n      ) : (\r\n        <ImageGallery\r\n          items={carouselData.map((item) => ({\r\n            original: item.imageUrl,\r\n            thumbnailLabel: item.title,\r\n            renderItem: () => (\r\n              <a href={`${item.affiliateLink}`} target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>\r\n                <div className='image-div'>\r\n                  <img className='image-slider' src={item.imageUrl} alt={item.title} />\r\n                </div>\r\n              </a>\r\n            ),\r\n          }))}\r\n          currentIndex={index}\r\n          onClick={(currentIndex) => handleChangeIndex(currentIndex)}\r\n          slidesPerView={1}\r\n          spaceBetween={10}\r\n          autoPlay={true}\r\n          disableKeyDown={true}\r\n          autoplayTimeout={5000}\r\n          loop={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemCarousel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}