{"ast":null,"code":"import React,{Component}from'react';import GroceryFilter from'./FilterComponents/GroceryFilter';import FilterResult from'./FilterComponents/FilterResult';import'../HomeComponent/Css/NewCss.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Grocery extends Component{constructor(props){super(props);// Function to fetch products based on filters\nthis.fetchProducts=()=>{const{selectedSubCategory,minPrice,maxPrice}=this.state;let apiUrl=\"/api/product/byCategory?category=Grocery\";// Construct the API URL based on filter selections\nconst filterParams=[];if(selectedSubCategory){filterParams.push(\"subcategory=\".concat(selectedSubCategory));}if(minPrice>=0){filterParams.push(\"minPrice=\".concat(minPrice));}if(maxPrice<=200000){filterParams.push(\"maxPrice=\".concat(maxPrice));}if(filterParams.length>0){apiUrl+=\"&\".concat(filterParams.join('&'));}fetch(apiUrl).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{this.setState({products:data,error:null});}).catch(error=>{this.setState({});});};this.handleSubCategoryChange=brand=>{this.setState({selectedSubCategory:brand},()=>{this.fetchProducts();});};this.handleApplyPriceFilter=_ref=>{let{minPrice,maxPrice}=_ref;this.setState({minPrice,maxPrice},()=>{this.fetchProducts();});};this.state={selectedSubCategory:'',minPrice:0,maxPrice:200000,products:[],error:null};}componentDidMount(){this.fetchProducts();}render(){const{selectedSubCategory,products,error}=this.state;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(GroceryFilter,{selectedSubCategory:selectedSubCategory,onPriceChange:this.handleApplyPriceFilter,onSubCategoryChange:this.handleSubCategoryChange}),error?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error fetching products: \",error.message]}):/*#__PURE__*/_jsx(FilterResult,{products:products})]});}}export default Grocery;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}