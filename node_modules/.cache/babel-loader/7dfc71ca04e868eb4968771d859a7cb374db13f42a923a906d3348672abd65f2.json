{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ImageGallery from'react-image-gallery';import'react-image-gallery/styles/css/image-gallery.css';import'./Css/ItemCarousel.css';import API from'../API_Config';import{jsx as _jsx}from\"react/jsx-runtime\";function ItemCarousel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(API,\"/api/carousel/showAll\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;if(Array.isArray(jsonData)){setData(jsonData);}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('Error fetching data:',_context.t0);setData([]);case 14:setIsLoading(false);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handleChangeIndex=function handleChangeIndex(selectedIndex){setIndex(selectedIndex);};return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-deals\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-deals-div\",children:\"Currently No Deals Are available\"})}):data.length>0&&/*#__PURE__*/_jsx(ImageGallery,{items:data.map(function(item){return{original:item.imageUrl,thumbnailLabel:item.title,renderItem:function renderItem(){return/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(item.affiliateLink),target:\"_blank\",rel:\"noopener noreferrer\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"image-div\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-slider\",src:item.imageUrl,alt:item.title})})});}};}),currentIndex:index,onClick:function onClick(currentIndex){return handleChangeIndex(currentIndex);},slidesPerView:1,spaceBetween:10,autoPlay:true,disableKeyDown:true,autoplayTimeout:5000,loop:true})});}export default ItemCarousel;","map":{"version":3,"names":["React","useState","useEffect","ImageGallery","API","jsx","_jsx","ItemCarousel","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","index","setIndex","_useState5","_useState6","isLoading","setIsLoading","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsonData","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","Array","isArray","t0","console","error","stop","apply","arguments","handleChangeIndex","selectedIndex","className","children","length","items","map","item","original","imageUrl","thumbnailLabel","title","renderItem","href","affiliateLink","target","rel","style","textDecoration","src","alt","currentIndex","onClick","slidesPerView","spaceBetween","autoPlay","disableKeyDown","autoplayTimeout","loop"],"sources":["C:/Users/NorthAlley/React_Projects/dealspakado/src/Components/HomeComponent/ItemCarousel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './Css/ItemCarousel.css';\r\nimport API from '../API_Config';\r\nfunction ItemCarousel() {\r\n  const [data, setData] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(`${API}/api/carousel/showAll`);  \r\n        const jsonData = await response.json();\r\n        if (Array.isArray(jsonData)) {\r\n          setData(jsonData);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setData([]);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleChangeIndex = (selectedIndex) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"carousel-container\">\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : data.length === 0 ? (\r\n        <div className='empty-deals'>\r\n        <p className=\"no-deals-div\">Currently No Deals Are available</p>\r\n        </div>\r\n      ) :  (\r\n        data.length > 0 && (\r\n          <ImageGallery\r\n            items={data.map((item) => ({\r\n              original: item.imageUrl,\r\n              thumbnailLabel: item.title,\r\n              renderItem: () => (\r\n                <a href={`${item.affiliateLink}`} target=\"_blank\" rel=\"noopener noreferrer\" style={{textDecoration: 'none'}}>\r\n                  <div className='image-div'>\r\n                  <img className='image-slider' src={item.imageUrl} alt={item.title} />\r\n                  </div>\r\n                </a>\r\n              ),\r\n            }))}\r\n            currentIndex={index}\r\n            onClick={(currentIndex) => handleChangeIndex(currentIndex)}\r\n            slidesPerView={1}\r\n            spaceBetween={10}\r\n            autoPlay={true}\r\n            disableKeyDown={true}\r\n            autoplayTimeout={5000}\r\n            loop={true}\r\n          />\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemCarousel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}