{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/NorthAlley/React_Projects/dealspakado/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ImageGallery from'react-image-gallery';import'./Css/ItemCarousel.css';import API from'../API_Config';import useSWR from'swr';import{jsx as _jsx}from\"react/jsx-runtime\";function ItemCarousel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useSWR=useSWR(\"\".concat(API,\"/api/carousel/showAll\"),/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;if(!Array.isArray(jsonData)){_context.next=9;break;}return _context.abrupt(\"return\",jsonData);case 9:return _context.abrupt(\"return\",[]);case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setData([]);return _context.abrupt(\"return\",[]);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function(_x){return _ref.apply(this,arguments);};}()),carouselData=_useSWR.data;useEffect(function(){if(carouselData){setData(carouselData);setIsLoading(false);}},[carouselData]);var handleChangeIndex=function handleChangeIndex(selectedIndex){setIndex(selectedIndex);};return/*#__PURE__*/_jsx(\"div\",{className:\"carousel-container\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-deals\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-deals-div\",children:\"Currently, No Deals Are Available\"})}):/*#__PURE__*/_jsx(ImageGallery,{items:data.map(function(item){return{original:item.imageUrl,thumbnailLabel:item.title,renderItem:function renderItem(){return/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(item.affiliateLink),target:\"_blank\",rel:\"noopener noreferrer\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"image-div\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image-slider\",src:item.imageUrl,alt:item.title})})});}};}),currentIndex:index,onClick:function onClick(currentIndex){return handleChangeIndex(currentIndex);},slidesPerView:1,spaceBetween:10,autoplay:true,disableKeyDown:true,autoplayTimeout:5000,loop:true})});}export default ItemCarousel;","map":{"version":3,"names":["React","useState","useEffect","ImageGallery","API","useSWR","jsx","_jsx","ItemCarousel","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","index","setIndex","_useState5","_useState6","isLoading","setIsLoading","_useSWR","concat","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","jsonData","wrap","_callee$","_context","prev","next","fetch","sent","json","Array","isArray","abrupt","t0","stop","_x","apply","arguments","carouselData","handleChangeIndex","selectedIndex","className","children","length","items","map","item","original","imageUrl","thumbnailLabel","title","renderItem","href","affiliateLink","target","rel","style","textDecoration","src","alt","currentIndex","onClick","slidesPerView","spaceBetween","autoplay","disableKeyDown","autoplayTimeout","loop"],"sources":["C:/Users/NorthAlley/React_Projects/dealspakado/src/Components/HomeComponent/ItemCarousel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport './Css/ItemCarousel.css';\r\nimport API from '../API_Config';\r\nimport useSWR from 'swr';\r\n\r\nfunction ItemCarousel() {\r\n  const [data, setData] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const { data: carouselData } = useSWR(\r\n    `${API}/api/carousel/showAll`,\r\n    async (url) => {\r\n      try {\r\n        const response = await fetch(url);\r\n        const jsonData = await response.json();\r\n        if (Array.isArray(jsonData)) {\r\n          return jsonData;\r\n        }\r\n        return [];\r\n      } catch (err) {\r\n        setData([]);\r\n        return []; // Return an empty array to prevent errors in the ImageGallery component\r\n      }\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (carouselData) {\r\n      setData(carouselData);\r\n      setIsLoading(false);\r\n    }\r\n  }, [carouselData]);\r\n\r\n  const handleChangeIndex = (selectedIndex) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"carousel-container\">\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : data.length === 0 ? (\r\n        <div className=\"empty-deals\">\r\n          <p className=\"no-deals-div\">Currently, No Deals Are Available</p>\r\n        </div>\r\n      ) : (\r\n        <ImageGallery\r\n          items={data.map((item) => ({\r\n            original: item.imageUrl,\r\n            thumbnailLabel: item.title,\r\n            renderItem: () => (\r\n              <a\r\n                href={`${item.affiliateLink}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                style={{ textDecoration: 'none' }}\r\n              >\r\n                <div className=\"image-div\">\r\n                  <img\r\n                    className=\"image-slider\"\r\n                    src={item.imageUrl}\r\n                    alt={item.title}\r\n                  />\r\n                </div>\r\n              </a>\r\n            ),\r\n          }))}\r\n          currentIndex={index}\r\n          onClick={(currentIndex) => handleChangeIndex(currentIndex)}\r\n          slidesPerView={1}\r\n          spaceBetween={10}\r\n          autoplay={true}\r\n          disableKeyDown={true}\r\n          autoplayTimeout={5000}\r\n          loop={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemCarousel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}