{"ast":null,"code":"import React,{Component}from'react';import ElectronicsFilter from'./FilterComponents/FurnitureFilter';import FilterResult from'./FilterComponents/FilterResult';import'../HomeComponent/Css/NewCss.css';import API from'../API_Config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Furniture extends Component{constructor(props){super(props);// Function to fetch products based on filters\nthis.fetchProducts=()=>{const{selectedSubCategory,minPrice,maxPrice}=this.state;let apiUrl=\"\".concat(API,\"/api/product/byCategory?category=HomeFurniture\");// Construct the API URL based on filter selections\nconst filterParams=[];if(selectedSubCategory){filterParams.push(\"subcategory=\".concat(selectedSubCategory));}if(minPrice>=0){filterParams.push(\"minPrice=\".concat(minPrice));}if(maxPrice<=200000){filterParams.push(\"maxPrice=\".concat(maxPrice));}if(filterParams.length>0){apiUrl+=\"&\".concat(filterParams.join('&'));}fetch(apiUrl).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{this.setState({products:data,error:null});}).catch(error=>{this.setState({});});};this.handleSubCategoryChange=brand=>{this.setState({selectedSubCategory:brand},()=>{this.fetchProducts();});};// Handle price filter change\nthis.handleApplyPriceFilter=_ref=>{let{minPrice,maxPrice}=_ref;this.setState({minPrice,maxPrice},()=>{this.fetchProducts();});};this.state={selectedSubCategory:'',minPrice:0,maxPrice:200000,products:[],error:null};}componentDidMount(){this.fetchProducts();}render(){const{selectedSubCategory,products,error}=this.state;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ElectronicsFilter,{selectedSubCategory:selectedSubCategory,onPriceChange:this.handleApplyPriceFilter,onSubCategoryChange:this.handleSubCategoryChange}),error?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error fetching products: \",error.message]}):/*#__PURE__*/_jsx(FilterResult,{products:products})]});}}export default Furniture;","map":{"version":3,"names":["React","Component","ElectronicsFilter","FilterResult","API","jsx","_jsx","jsxs","_jsxs","Furniture","constructor","props","fetchProducts","selectedSubCategory","minPrice","maxPrice","state","apiUrl","concat","filterParams","push","length","join","fetch","then","response","ok","Error","json","data","setState","products","error","catch","handleSubCategoryChange","brand","handleApplyPriceFilter","_ref","componentDidMount","render","children","onPriceChange","onSubCategoryChange","message"],"sources":["C:/Users/NorthAlley/React_Projects/dealspakado/src/Components/NavbarComponent/Furniture.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport ElectronicsFilter from './FilterComponents/FurnitureFilter';\r\nimport FilterResult from './FilterComponents/FilterResult';\r\nimport '../HomeComponent/Css/NewCss.css';\r\nimport API from '../API_Config';\r\n\r\nclass Furniture extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedSubCategory: '',\r\n      minPrice: 0,\r\n      maxPrice: 200000,\r\n      products: [],\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() { \r\n    this.fetchProducts();\r\n  }\r\n\r\n  // Function to fetch products based on filters\r\n  fetchProducts = () => {\r\n    const { selectedSubCategory, minPrice, maxPrice } = this.state;\r\n    let apiUrl = `${API}/api/product/byCategory?category=HomeFurniture`;\r\n\r\n    // Construct the API URL based on filter selections\r\n    const filterParams = [];\r\n\r\n    if (selectedSubCategory) {\r\n      filterParams.push(`subcategory=${selectedSubCategory}`);\r\n    }\r\n\r\n    if (minPrice >= 0) {\r\n      filterParams.push(`minPrice=${minPrice}`);\r\n    }\r\n\r\n    if (maxPrice <= 200000) {\r\n      filterParams.push(`maxPrice=${maxPrice}`);\r\n    }\r\n    \r\n    if (filterParams.length > 0) {\r\n      apiUrl += `&${filterParams.join('&')}`;\r\n    }\r\n    fetch(apiUrl)\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({ products: data, error: null });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({  });\r\n      });\r\n  };\r\n\r\n\r\n  handleSubCategoryChange = (brand) => {\r\n    this.setState({ selectedSubCategory: brand }, () => {\r\n      this.fetchProducts();\r\n    });\r\n  };\r\n\r\n  // Handle price filter change\r\n  handleApplyPriceFilter = ({ minPrice, maxPrice }) => {\r\n    this.setState({ minPrice, maxPrice }, () => {\r\n      this.fetchProducts();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { selectedSubCategory,products, error } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <ElectronicsFilter\r\n          selectedSubCategory={selectedSubCategory}\r\n          onPriceChange={this.handleApplyPriceFilter}\r\n          onSubCategoryChange={this.handleSubCategoryChange}\r\n        />\r\n        {error ? (\r\n          <p>Error fetching products: {error.message}</p>\r\n        ) : (\r\n          <FilterResult products={products} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Furniture;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,iBAAiB,KAAM,oCAAoC,CAClE,MAAO,CAAAC,YAAY,KAAM,iCAAiC,CAC1D,MAAO,iCAAiC,CACxC,MAAO,CAAAC,GAAG,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,SAAS,QAAS,CAAAR,SAAU,CAChCS,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CAcd;AAAA,KACAC,aAAa,CAAG,IAAM,CACpB,KAAM,CAAEC,mBAAmB,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAG,IAAI,CAACC,KAAK,CAC9D,GAAI,CAAAC,MAAM,IAAAC,MAAA,CAAMd,GAAG,kDAAgD,CAEnE;AACA,KAAM,CAAAe,YAAY,CAAG,EAAE,CAEvB,GAAIN,mBAAmB,CAAE,CACvBM,YAAY,CAACC,IAAI,gBAAAF,MAAA,CAAgBL,mBAAmB,CAAE,CAAC,CACzD,CAEA,GAAIC,QAAQ,EAAI,CAAC,CAAE,CACjBK,YAAY,CAACC,IAAI,aAAAF,MAAA,CAAaJ,QAAQ,CAAE,CAAC,CAC3C,CAEA,GAAIC,QAAQ,EAAI,MAAM,CAAE,CACtBI,YAAY,CAACC,IAAI,aAAAF,MAAA,CAAaH,QAAQ,CAAE,CAAC,CAC3C,CAEA,GAAII,YAAY,CAACE,MAAM,CAAG,CAAC,CAAE,CAC3BJ,MAAM,MAAAC,MAAA,CAAQC,YAAY,CAACG,IAAI,CAAC,GAAG,CAAC,CAAE,CACxC,CACAC,KAAK,CAACN,MAAM,CAAC,CACVO,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,EAAK,CACd,IAAI,CAACC,QAAQ,CAAC,CAAEC,QAAQ,CAAEF,IAAI,CAAEG,KAAK,CAAE,IAAK,CAAC,CAAC,CAChD,CAAC,CAAC,CACDC,KAAK,CAAED,KAAK,EAAK,CAChB,IAAI,CAACF,QAAQ,CAAC,CAAG,CAAC,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,MAGDI,uBAAuB,CAAIC,KAAK,EAAK,CACnC,IAAI,CAACL,QAAQ,CAAC,CAAEjB,mBAAmB,CAAEsB,KAAM,CAAC,CAAE,IAAM,CAClD,IAAI,CAACvB,aAAa,CAAC,CAAC,CACtB,CAAC,CAAC,CACJ,CAAC,CAED;AAAA,KACAwB,sBAAsB,CAAGC,IAAA,EAA4B,IAA3B,CAAEvB,QAAQ,CAAEC,QAAS,CAAC,CAAAsB,IAAA,CAC9C,IAAI,CAACP,QAAQ,CAAC,CAAEhB,QAAQ,CAAEC,QAAS,CAAC,CAAE,IAAM,CAC1C,IAAI,CAACH,aAAa,CAAC,CAAC,CACtB,CAAC,CAAC,CACJ,CAAC,CA/DC,IAAI,CAACI,KAAK,CAAG,CACXH,mBAAmB,CAAE,EAAE,CACvBC,QAAQ,CAAE,CAAC,CACXC,QAAQ,CAAE,MAAM,CAChBgB,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,IACT,CAAC,CACH,CAEAM,iBAAiBA,CAAA,CAAG,CAClB,IAAI,CAAC1B,aAAa,CAAC,CAAC,CACtB,CAsDA2B,MAAMA,CAAA,CAAG,CACP,KAAM,CAAE1B,mBAAmB,CAACkB,QAAQ,CAAEC,KAAM,CAAC,CAAG,IAAI,CAAChB,KAAK,CAE1D,mBACER,KAAA,QAAAgC,QAAA,eACElC,IAAA,CAACJ,iBAAiB,EAChBW,mBAAmB,CAAEA,mBAAoB,CACzC4B,aAAa,CAAE,IAAI,CAACL,sBAAuB,CAC3CM,mBAAmB,CAAE,IAAI,CAACR,uBAAwB,CACnD,CAAC,CACDF,KAAK,cACJxB,KAAA,MAAAgC,QAAA,EAAG,2BAAyB,CAACR,KAAK,CAACW,OAAO,EAAI,CAAC,cAE/CrC,IAAA,CAACH,YAAY,EAAC4B,QAAQ,CAAEA,QAAS,CAAE,CACpC,EACE,CAAC,CAEV,CACF,CAEA,cAAe,CAAAtB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}